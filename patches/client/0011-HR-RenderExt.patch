From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: way-zer <himc.wicp@gmail.com>
Date: Tue, 26 Mar 2024 19:22:00 +0800
Subject: [PATCH] HR: RenderExt

---
 core/src/mindustry/core/Renderer.java          | 3 ++-
 core/src/mindustry/graphics/BlockRenderer.java | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/core/src/mindustry/core/Renderer.java b/core/src/mindustry/core/Renderer.java
index c544e8bba23770999195d7650e45b8bf57a14805..d07cffac83d31e6978bb1c539517cc86f5d48ecc 100644
--- a/core/src/mindustry/core/Renderer.java
+++ b/core/src/mindustry/core/Renderer.java
@@ -22,6 +22,7 @@ import mindustry.maps.*;
 import mindustry.type.*;
 import mindustry.world.blocks.storage.*;
 import mindustry.world.blocks.storage.CoreBlock.*;
+import mindustryX.features.*;
 
 import static arc.Core.*;
 import static mindustry.Vars.*;
@@ -385,7 +386,7 @@ public class Renderer implements ApplicationListener{
         Events.fire(Trigger.drawOver);
         blocks.drawBlocks();
 
-        Groups.draw.draw(Drawc::draw);
+        Groups.draw.draw(RenderExt::onGroupDraw);
 
         Draw.reset();
         Draw.flush();
diff --git a/core/src/mindustry/graphics/BlockRenderer.java b/core/src/mindustry/graphics/BlockRenderer.java
index 10e29ef135cfbcbfa7ef4e5acf8a083e062e9110..757434cb5bd9d951f773cd92a73fd0e0bdf8dad6 100644
--- a/core/src/mindustry/graphics/BlockRenderer.java
+++ b/core/src/mindustry/graphics/BlockRenderer.java
@@ -18,6 +18,7 @@ import mindustry.gen.*;
 import mindustry.world.*;
 import mindustry.world.blocks.environment.Floor.*;
 import mindustry.world.blocks.power.*;
+import mindustryX.features.*;
 
 import static arc.Core.*;
 import static mindustry.Vars.*;
@@ -417,7 +418,7 @@ public class BlockRenderer{
 
             //comment wasVisible part for hiding?
             if(block != Blocks.air && (visible || build.wasVisible)){
-                block.drawBase(tile);
+                RenderExt.onBlockDraw(tile, block, build);
                 Draw.reset();
                 Draw.z(Layer.block);
 
